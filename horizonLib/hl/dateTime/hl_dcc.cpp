/**
FILE NAME= hl_dcc.cpp
LIB= HorizonLib
ADDED BY= A. Cesarini
DATE= 20131223
*/
#include <hl/dateTime/hl_dcc.h>

HL_SERIALIZATION_CLASS_EXPORT_GUID(HLDT::HL_Dcc_Act360);
HL_SERIALIZATION_CLASS_EXPORT_GUID(HLDT::HL_Dcc_Act365);

namespace HorizonLib
{
	namespace HL_DateTime
	{

		//------------------------------------------------------------------------------------------------------
		//------------------------------------------------------------------------------------------------------
		// enum HL_DccType
		//------------------------------------------------------------------------------------------------------
		//------------------------------------------------------------------------------------------------------





		//------------------------------------------------------------------------------------------------------
		//------------------------------------------------------------------------------------------------------
		// class HL_Dcc
		//------------------------------------------------------------------------------------------------------
		//------------------------------------------------------------------------------------------------------


		HL_Dcc::HL_Dcc()
		{
			classDefaultInit();
		} // end HL_Dcc

		//------------------------------------------------------------------------------------------------------

		HL_Dcc::~HL_Dcc()
		{
		} // end ~HL_Dcc

		//------------------------------------------------------------------------------------------------------

		void HL_Dcc::classDefaultInit()
		{

			hl_DccType_=HL_DccType_InvalidMin;
		} // end classDefaultInit

		//------------------------------------------------------------------------------------------------------


		HLL HL_Dcc::nbDaysInBetween(const date & dStart, const date & dEnd) const
		{
		
			days daysInBetween = dEnd-dStart;

			HLL nbDays =daysInBetween.days();
			return nbDays;
		
		} // end nbDaysInBetween


		//------------------------------------------------------------------------------------------------------

		std::ostream& operator<<(std::ostream& os, const HL_Dcc& hl_Dcc)
		{

			return os << getEnumString(hl_Dcc.get_hl_DccType()); 
		} // end operator<<


		//------------------------------------------------------------------------------------------------------
		//------------------------------------------------------------------------------------------------------
		// class HL_Dcc_Act360
		//------------------------------------------------------------------------------------------------------
		//------------------------------------------------------------------------------------------------------


		HL_Dcc_Act360::HL_Dcc_Act360()
		{
			classDefaultInit();
		} // end HL_Dcc_Act360

		//------------------------------------------------------------------------------------------------------

		HL_Dcc_Act360::~HL_Dcc_Act360()
		{
		} // end ~HL_Dcc_Act360



		//------------------------------------------------------------------------------------------------------

		void HL_Dcc_Act360::classDefaultInit()
		{

			hl_DccType_=HL_DccType_Act360;
		} // end classDefaultInit

		//------------------------------------------------------------------------------------------------------

		HLR HL_Dcc_Act360::yf(const date & dStart, const date & dEnd) const
		{
			HLR t = nbDaysInBetween(dStart, dEnd)/360.;

			return t;
		} // end yf
				
		
		
		//------------------------------------------------------------------------------------------------------
		//------------------------------------------------------------------------------------------------------
		// class HL_Dcc_Act365
		//------------------------------------------------------------------------------------------------------
		//------------------------------------------------------------------------------------------------------


		HL_Dcc_Act365::HL_Dcc_Act365()
		{

			classDefaultInit();
			
		} // end HL_Dcc_Act365

		//------------------------------------------------------------------------------------------------------

		HL_Dcc_Act365::~HL_Dcc_Act365()
		{
		} // end ~HL_Dcc_Act365



		//------------------------------------------------------------------------------------------------------

		void HL_Dcc_Act365::classDefaultInit()
		{
		
			hl_DccType_=HL_DccType_Act365;

		} // end classDefaultInit

		//------------------------------------------------------------------------------------------------------

		HLR HL_Dcc_Act365::yf(const date & dStart, const date & dEnd) const
		{
			HLR t = nbDaysInBetween(dStart, dEnd)/365.;

			return t;
		} // end yf


	} // end namespace HL_DateTime
} //end namespace HorizonLib
